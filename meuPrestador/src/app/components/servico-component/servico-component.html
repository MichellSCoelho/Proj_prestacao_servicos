<div class="servico-container">

    <!-- ========================= -->
    <!-- CARD CADASTRO -->
    <!-- ========================= -->

    <div class="card-box">

        <h2>Cadastro de Servi√ßo</h2>

        <form #servicoForm="ngForm" (ngSubmit)="salvar()">

            <div class="form-group">
                <label>Nome do Servi√ßo</label>
                <input type="text" name="nome" [(ngModel)]="servico.nome" required class="form-control" />
            </div>

            <div class="form-group">
                <label>Descri√ß√£o</label>
                <textarea name="descricao" [(ngModel)]="servico.descricao" required class="form-control"></textarea>
            </div>

            <div class="form-group">
                <label>Valor Base (R$)</label>
                <input type="number" name="valor_base" [(ngModel)]="servico.valor_base" required class="form-control" />
            </div>

            <button type="submit" class="btn-primary" [disabled]="servicoForm.invalid">
                Salvar
            </button>

        </form>

        <!-- ‚úÖ Mensagem de sucesso -->
        <div *ngIf="mensagemSucesso" class="success-msg">
            {{ mensagemSucesso }}
        </div>

        <!-- üîô Bot√£o voltar -->
        <button routerLink="" class="btn-secondary">
            Voltar para Home
        </button>

    </div>


    <!-- ========================= -->
    <!-- CARD LISTA -->
    <!-- ========================= -->

    <div class="card-box">

        <h2>Lista de Servi√ßos</h2>

        @if (lista_de_servicos$ | async; as lista_de_servicos) {

        <table class="styled-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nome</th>
                    <th>Descri√ß√£o</th>
                    <th>Valor Base</th>
                </tr>
            </thead>
            <tbody>
                @for (s of lista_de_servicos; track s.id) {
                <tr>
                    <td>{{ s.id }}</td>
                    <td>{{ s.nome }}</td>
                    <td>{{ s.descricao }}</td>
                    <td>R$ {{ s.valor_base }}</td>
                </tr>
                }
            </tbody>
        </table>

        } @else {
        <p>Carregando...</p>
        }

    </div>

</div>